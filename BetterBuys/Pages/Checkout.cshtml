@page
@model BetterBuys.Pages.Checkout.CheckoutModel

<div class="wrapper content">
    <h2 class="d-flex justify-content-center">Checkout</h2>
    <div class="container content-checkout">
        <div class="row my-3">
            @*shipping address box*@
            <div class="col-lg-6">
                <form class="pr-lg-5 pb-5 pb-lg-0" method="post">
                    <h5>Shipping Address</h5>
                    <div class="input-control firstName mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.FirstName" name="firstName" id="firstName" placeholder="First Name" />
                    </div>
                    <div class="input-control lastName mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.LastName" name="lastName" id="lastName" placeholder="Last Name" />
                    </div>
                    <div class="input-control address mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.Address" name="address" id="address" placeholder="Adress" />
                    </div>
                    <div class="input-control apartment mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.Apartment" name="apartment" id="apartment" placeholder="Apartment" />
                    </div>
                    <div class="input-control city mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.City" name="city" id="city" placeholder="City" />
                    </div>
                    <div class="d-flex">
                        <div class="input-control country mb-3">
                            <select asp-for="@Model.checkoutInfo.Country" name="country" class="countries" id="countryId">
                                <option value="">Select Country</option>
                                <option value="Canada">Canada</option>
                            </select>
                        </div>
                        <div class="input-control province mx-5 mb-3">
                            <select asp-for="@Model.checkoutInfo.Province" name="province" class="provinces" id="provinceId">
                                <option value="">Select Province</option>
                                <option value="AB">Alberta</option>
                                <option value="BC">British Columbia</option>
                                <option value="MB">Manitoba</option>
                                <option value="NB">New Brunswick</option>
                                <option value="NL">Newfoundland and Labrador</option>
                                <option value="NS">Nova Scotia</option>
                                <option value="ON">Ontario</option>
                                <option value="PE">Prince Edward Island</option>
                                <option value="QC">Quebec</option>
                                <option value="SK">Saskatchewan</option>
                                <option value="NT">Northwest Territories</option>
                                <option value="NU">Nunavut</option>
                                <option value="YT">Yukon</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-control postal mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.PostalCode"  name="postalCode" id="postCode" placeholder="Postal Code" />
                    </div>
                    <div class="input-control phone mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.Phone" name="phone" id="phone" placeholder="Phone" />
                    </div>
                    <h5 class="mt-4">Payment Method</h5>
                    <div class="input-control name mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.CardHolderName" name="cardHolderName" id="name" placeholder="Cardholder Name" />
                    </div>
                    <div class="d-flex">
                        <div class="input-control number">
                            <input type="text" asp-for="@Model.checkoutInfo.CardNumber" name="cardNumber" id="number" placeholder="Card Number" />
                        </div>
                        <div class="input-control expirationDate mx-5 mb-3">
                            <input type="text" asp-for="@Model.checkoutInfo.ExpirationDate" name="expirationDate" id="expirationDate" placeholder="Expiration Date mm/yy" />
                        </div>
                    </div>
                    @*<div class="input-control cvw mb-3">
                        <input type="text" asp-for="@Model.checkoutInfo.CVW" name="cvw" id="cvw" placeholder="CVW" />
                    </div>*@
                    <div class="d-flex justify-content-between mt-2">
                        <p>Return to cart</p>
                        <input class="btn btn-primary" type="submit" value="COMPLETE PURCHASE" id="complete" />
                    </div>
                </form>
            </div>
            @*order box*@
            <div class="border border-secondary col-lg-6">
                <h5 class="d-flex justify-content-center m-2">Your Order</h5>
                @foreach (var item in Model.productsInCart)
                {
                    <table class="table">
                        <tbody>
                            <tr>
                                <td><img src="@item.ImageUri" width="100" /></td>
                                <td>@item.Name</td>
                                <td>@item.Quantity</td>
                                <td>@item.Price</td>
                            </tr>
                        </tbody>
                    </table>
                }
                <p>Add a Discount Code</p>
                <div class="d-flex justify-content-between my-2">
                    <input type="text" id="discount" placeholder="Discount Code" />
                    <input class="btn btn-primary" type="Submit" value="ADD" id="Add" />
                </div>
                <div class="d-flex justify-content-between">
                    <p>Order Value</p>
                    <p> $@Model.CalTotal(Model.productsInCart)</p>
                </div>
                <div class="d-flex justify-content-between">
                    <p>Delivery</p>
                    <p>$8</p>
                </div>
                <div class="d-flex justify-content-between">
                    <h5>Total</h5>
                    <h5>$@Model.CalFinalTotal(Model.productsInCart)</h5>
                </div>
                <p class="my-5">Price and shipping costs are not confirmed until you've reached checkout</p>
            </div>
        </div>
    </div>
</div>